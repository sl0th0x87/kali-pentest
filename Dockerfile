FROM sl0th0x87/kali-basic:latest

LABEL maintainer="sl0th0x87@gmail.com"
LABEL description="Kali Linux basic image for penetration testing"

ENV DEBIAN_FRONTEND noninteractive
ENV PATH=$PATH:/opt/apps/go/bin
ENV GOPATH=/opt/apps/go

WORKDIR /root

# pentesting tools with apt
RUN apt-get -y install \
      amass \
      enum4linux \
      exploitdb \
      ffuf \
      john \
      hydra \
      masscan \
      metasploit-framework \
      netcat-traditional \
      nikto \
      nmap \
      proxychains4 \
      seclists \
      socat \
      subfinder \
      sublist3r \
      webshells \
      wfuzz \
      wordlists \
      wpscan

# install golang tools
RUN go install github.com/projectdiscovery/dnsx/cmd/dnsx@latest && \
    go install github.com/projectdiscovery/httpx/cmd/httpx@latest && \
    go install github.com/projectdiscovery/naabu/v2/cmd/naabu@latest && \
    go install github.com/projectdiscovery/nuclei/v2/cmd/nuclei@latest && \
    go install github.com/projectdiscovery/tlsx/cmd/tlsx@latest && \
    go install github.com/tomnomnom/anew@latest && \
    go install github.com/tomnomnom/gf@latest && \
    go install github.com/tomnomnom/waybackurls@latest && \
    go install github.com/jaeles-project/jaeles@latest && \
    go install github.com/lc/gau/v2/cmd/gau@latest

# cleanup
RUN rm -rf /var/cache/apt/*
    
VOLUME /pentest

CMD ["/bin/zsh"]
